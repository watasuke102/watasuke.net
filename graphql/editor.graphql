# documents.graphql
#
# CopyRight (c) 2023 Watasuke
# Email  : <watasuke102@gmail.com>
# Twitter: @watasuke1024
# This software is released under the MIT or MIT SUSHI-WARE License.
query indexPage {
  allArticles {
    slug
    title
    isFavorite
    publishedAt
    updatedAt
    isPublished
  }
  allMonthlies {
    year
    month
    updatedAt
    publishedAt
  }
}

query articleEditPage($slug: String!) {
  article(slug: $slug) {
    slug
    title
    tldr
    tldrReal
    publishedAt
    updatedAt
    isFavorite
    isPublished
    tags {
      slug
      name
    }
    body
  }
  allTags {
    slug
    name
  }
}

query articlePreviewPage($slug: String!) {
  article(slug: $slug) {
    slug
    title
    body
  }
}

query allTags {
  allTags {
    slug
    name
  }
}

query monthlyEditPage($year: Int!, $month: Int!) {
  monthly(year: $year, month: $month) {
    year
    month
    tldr
    body
    updatedAt
    publishedAt
  }
}

query profile {
  sitedata {
    profile
  }
}

mutation newTag($slug: String!, $title: String!) {
  newTag(slug: $slug, title: $title)
}

mutation newArticle($slug: String!, $title: String!) {
  newArticle(slug: $slug, title: $title)
}

mutation updateArticle(
  $slug: String!
  $title: String!
  $tldr: String!
  $tags: [String!]!
  $isFavorite: Boolean!
  $body: String!
) {
  updateArticle(
    slug: $slug
    title: $title
    tldr: $tldr
    tags: $tags
    isFavorite: $isFavorite
    body: $body
  )
}

mutation publishArticle($slug: String!, $should_commit_and_push: Boolean!) {
  publishArticle(slug: $slug, shouldCommitAndPush: $should_commit_and_push)
}
mutation renewArticle($slug: String!, $commit_message: String!) {
  renewArticle(slug: $slug, commitMessage: $commit_message)
}

mutation newMonthly($year: Int!, $month: Int!) {
  newMonthly(year: $year, month: $month)
}
mutation updateMonthly(
  $year: Int!
  $month: Int!
  $tldr: String!
  $body: String!
) {
  updateMonthly(year: $year, month: $month, tldr: $tldr, body: $body)
}
mutation publishMonthly(
  $year: Int!
  $month: Int!
  $should_commit_and_push: Boolean!
) {
  publishMonthly(
    year: $year
    month: $month
    shouldCommitAndPush: $should_commit_and_push
  )
}
mutation renewMonthly($year: Int!, $month: Int!, $commit_message: String!) {
  renewMonthly(year: $year, month: $month, commitMessage: $commit_message)
}

mutation updateProfile($profile: String!) {
  updateProfile(profile: $profile)
}
mutation renewProfile($commit_message: String!) {
  renewProfile(commitMessage: $commit_message)
}
